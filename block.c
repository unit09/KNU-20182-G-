#include <stdio.h>
#include <stdlib.h>
#include <curses.h>
#include <time.h>
#include <unistd.h>
#include <signal.h>

int createBlock();
void moveBlock(int, int, int, int);

int block[7][4][4][4] = {
	{
		{{0,0,0,0},
		{0,0,0,0},
		{1,0,0,0},
		{1,1,1,0}},

		{{0,0,0,0},
		{1,1,0,0},
		{1,0,0,0},
		{1,0,0,0}},

		{{0,0,0,0},
		{0,0,0,0},
		{1,1,1,0},
		{0,0,1,0}},

		{{0,0,0,0},
		{0,0,1,0},
		{0,0,1,0},
		{0,1,1,0}}
	},
	{
		{{0,0,0,0},
		 {0,0,0,0},
		 {0,0,1,0},
		 {1,1,1,0}},

		{{0,0,0,0},
		 {1,0,0,0},
		 {1,0,0,0},
		 {1,1,0,0}},

		{{0,0,0,0},
		 {0,0,0,0},
		 {1,1,1,0},
		 {1,0,0,0}},

		{{0,0,0,0},
		 {1,1,0,0},
		 {0,1,0,0},
		 {0,1,0,0}}
	},
	{
		{{0,0,0,0},
		 {0,0,0,0},
		 {0,1,0,0},
		 {1,1,1,0}},

		{{0,0,0,0},
		 {1,0,0,0},
		 {1,1,0,0},
		 {1,0,0,0}},

		{{0,0,0,0},
		 {0,0,0,0},
		 {1,1,1,0},
		 {0,1,0,0}},

		{{0,0,0,0},
		 {0,0,1,0},
		 {0,1,1,0},
		 {0,0,1,0}}
	},
	{
		{{0,0,0,0},
		 {0,0,0,0},
		 {0,1,1,0},
		 {1,1,0,0}},

		{{0,0,0,0},
		 {0,1,0,0},
		 {0,1,1,0},
		 {0,0,1,0}},

		{{0,0,0,0},
		 {0,0,0,0},
		 {0,1,1,0},
		 {1,1,0,0}},

		{{0,0,0,0},
		 {0,1,0,0},
		 {0,1,1,0},
		 {0,0,1,0}}
	},
	{
		{{0,0,0,0},
		 {0,0,0,0},
		 {1,1,0,0},
		 {0,1,1,0}},

		{{0,0,0,0},
		 {0,1,0,0},
		 {1,1,0,0},
		 {1,0,0,0}},

		{{0,0,0,0},
		 {0,0,0,0},
		 {1,1,0,0},
		 {0,1,1,0}},

		{{0,0,0,0},
		 {0,1,0,0},
		 {1,1,0,0},
		 {1,0,0,0}}
	},
	{
		{{0,0,0,0},
		 {0,0,0,0},
		 {1,1,0,0},
		 {1,1,0,0}},

		{{0,0,0,0},
		 {0,0,0,0},
		 {1,1,0,0},
		 {1,1,0,0}},

		{{0,0,0,0},
		 {0,0,0,0},
		 {1,1,0,0},
		 {1,1,0,0}},

		{{0,0,0,0},
		 {0,0,0,0},
		 {1,1,0,0},
		 {1,1,0,0}}
	},
	{
		{{0,0,0,0},
		 {0,0,0,0},
		 {0,0,0,0},
		 {1,1,1,1}},

		{{1,0,0,0},
		 {1,0,0,0},
		 {1,0,0,0},
		 {1,0,0,0}},

		{{0,0,0,0},
		 {0,0,0,0},
		 {0,0,0,0},
		 {1,1,1,1}},

		{{1,0,0,0},
		 {1,0,0,0},
		 {1,0,0,0},
		 {1,0,0,0}}
	}
};

int createBlock(){
	int num;	

	srand(time(NULL));
	num = rand()%7;

	return num;
}

void moveBlock(int ro_x, int ro_y, int num, int shape){
	int i, j;
	
	for(i = 0; i < 4; i++){
		for(j = 0; j < 4; j++){
			move(ro_y+i, ro_x+j);
			if(block[num][shape][i][j] == 1){
				addch('O');
			}				
		}
	}
}
